webpackJsonp([1],{"9M+g":function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",[a("b-navbar",{attrs:{type:"dark",variant:"dark"}},[a("b-navbar-brand",{attrs:{href:"#"}},[e._v("ArtNight")]),e._v(" "),a("b-navbar-nav",[a("b-nav-item",{attrs:{"exact-active-class":"active",to:{name:"feed",params:{username:"artnightevents"}}}},[e._v("Artnightevents")]),e._v(" "),a("b-nav-item",{attrs:{"exact-active-class":"active",to:{name:"feed",params:{username:"shakenightevents"}}}},[e._v("Shakenightevents")]),e._v(" "),a("b-nav-item",{attrs:{"exact-active-class":"active",to:{name:"feed",params:{username:"plantnightevents"}}}},[e._v("Plantnightevents")])],1)],1)],1),e._v(" "),a("router-view")],1)},staticRenderFns:[]},n=a("VU/8")({name:"App"},i,!1,null,null,null).exports,r=a("woOf"),o=a.n(r),c=a("mvHQ"),l=a.n(c),u=a("NYxO"),d=a("mtWM"),m=a.n(d);s.default.use(u.a);var v=new u.a.Store({state:{feeds:[]},getters:{getImages:function(e){return function(t,a){var s=e.feeds.find(function(e){return e.username===t});return s?s.images.slice(0,a):[]}},getVideos:function(e){return function(t,a){var s=e.feeds.find(function(e){return e.username===t});return s?s.videos.slice(0,a):[]}}},mutations:{setFeeds:function(e,t){e.feeds.push(t)},initialiseStore:function(e){localStorage.getItem("store")&&localStorage.getItem("exipirationDate")&&(JSON.parse(localStorage.getItem("exipirationDate"))<JSON.parse(l()(new Date))?(localStorage.removeItem("exipirationDate"),localStorage.removeItem("store")):this.replaceState(o()(e,JSON.parse(localStorage.getItem("store")))))}},actions:{fetchFeed:function(e,t){var a=e.commit,s=e.state,i=t.username.replace(" ","_").toLowerCase();if(!s.feeds.find(function(e){return e.username===i})){var n="https://www.instagram.com/"+i+"/?__a=1";m.a.get(n).then(function(e){var t=e.data.graphql.user;if(t){var s=[],n=[];t.edge_owner_to_timeline_media.edges.forEach(function(e,t){var a={likes:e.node.edge_media_preview_like.count,original:e.node.display_url};s.push(a)}),t.edge_felix_video_timeline.edges.forEach(function(e,t){var a={thumbnail:e.node.thumbnail_src,video_url:e.node.video_url,views:e.node.video_view_count};n.push(a)}),a("setFeeds",{username:i,images:s,videos:n})}else console.log("Username does not exists")}).catch(function(e){console.log(e)})}}}});v.subscribe(function(e,t){localStorage.setItem("store",l()(t));var a=new Date;a.setHours(a.getHours()+1),localStorage.setItem("exipirationDate",l()(a))});var f=v,p=a("/ocq"),h={props:{username:String,feedNumber:Number},data:function(){return{media:"images",videoUrl:""}},computed:{images:function(){return this.$store.getters.getImages(this.username,this.feedNumber)},videos:function(){return this.$store.getters.getVideos(this.username,this.feedNumber)},selfProps:function(){return this.feedNumber+this.username}},watch:{selfProps:function(){this.fetchFeed()},media:function(){this.fetchFeed()}},mounted:function(){this.fetchFeed()},methods:{fetchFeed:function(){this.$store.dispatch("fetchFeed",{username:this.username})},readVideo:function(e){this.videoUrl=e,this.$bvModal.show("bv-modal-example")}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card text-center"},[a("div",{staticClass:"card-header"},[a("ul",{staticClass:"nav nav-tabs card-header-tabs"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"images"==e.media},on:{click:function(t){e.media="images"}}},[e._v("Images")])]),e._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"videos"==e.media},on:{click:function(t){e.media="videos"}}},[e._v("Videos")])])])]),e._v(" "),a("div",{staticClass:"card-body"},["images"==e.media?a("div",{staticClass:"box"},e._l(e.images,function(t,s){return a("div",{key:s,staticClass:"wrapper"},[a("img",{attrs:{src:t.original,height:"300",width:"300"}}),e._v(" "),a("span",{staticClass:"mb-2 float-left"},[a("b-icon",{staticClass:"mx-2",attrs:{icon:"heart","font-scale":"1"}}),e._v(e._s(t.likes))],1)])}),0):e._e(),e._v(" "),"videos"==e.media?a("div",{staticClass:"box"},e._l(e.videos,function(t,s){return a("div",{key:s,staticClass:"wrapper",on:{click:function(a){return e.readVideo(t.video_url)}}},[a("img",{attrs:{src:t.thumbnail,height:"300",width:"300"}}),e._v(" "),"videos"==e.media?a("span",{staticClass:"mb-2 float-left"},[a("b-icon",{staticClass:"mx-2",attrs:{icon:"eye","font-scale":"1"}}),e._v(e._s(t.views))],1):e._e()])}),0):e._e()]),e._v(" "),a("b-modal",{attrs:{centered:"",id:"bv-modal-example","hide-footer":""}},[a("video",{attrs:{width:"100%",height:"500",src:e.videoUrl,autoplay:"",controls:""}})])],1)},staticRenderFns:[]};var _={components:{Gallery:a("VU/8")(h,g,!1,function(e){a("Vtyy")},null,null).exports},data:function(){return{feedNumber:12}},computed:{username:function(){return this.$route.params.username},feeds:function(){return parseInt(this.feedNumber)}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row justify-content-between"},[a("div",{staticClass:"col-4"},[a("h1",{staticClass:"my-3 text-center"},[e._v(e._s(e._f("capitalize")(e.username)))])]),e._v(" "),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-group row my-3"},[a("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"feedNumber"}},[e._v("Number of feeds")]),e._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.feedNumber,expression:"feedNumber"}],staticClass:"form-control",attrs:{type:"text",id:"feedNumber"},domProps:{value:e.feedNumber},on:{input:function(t){t.target.composing||(e.feedNumber=t.target.value)}}})])])])]),e._v(" "),a("gallery",{attrs:{username:e.username,"feed-number":e.feeds}})],1)},staticRenderFns:[]},C=a("VU/8")(_,b,!1,null,null,null).exports;s.default.use(p.a);var w=new p.a({routes:[{name:"feed",path:"/feed/:username",component:C},{path:"/",redirect:"/feed/artnightevents"}]}),x=a("sCSS");s.default.filter("capitalize",function(e){return e?(e=e.toString()).charAt(0).toUpperCase()+e.slice(1):""});a("Jmt5"),a("9M+g");s.default.use(x.a),s.default.use(x.b),s.default.config.productionTip=!1,new s.default({el:"#app",router:w,store:f,components:{App:n},template:"<App/>",beforeCreate:function(){this.$store.commit("initialiseStore")}})},Vtyy:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.dcc908406dff7e743135.js.map